-- Загрузка библиотеки для ESP
local ESP = loadstring(game:HttpGet("https://raw.githubusercontent.com/NIKITA12340-sudo/dermo/refs/heads/main/ESP"))()

-- Настройка ESP
local Players = game:GetService("Players")
local espEnabled = true -- Переменная для отслеживания состояния ESP

local function toggleESP()
    espEnabled = not espEnabled -- Переключаем состояние ESP

    for _, player in pairs(Players:GetPlayers()) do
        if espEnabled then
            ESP:CreateESP(player) -- Создаем ESP, если он включен
        else
            ESP:DestroyESP(player) -- Удаляем ESP, если он выключен
        end
    end
end

for _, player in pairs(Players:GetPlayers()) do
    if player ~= Players.LocalPlayer then
        ESP:CreateESP(player) -- Применяем ESP к каждому игроку
    end
end

-- Обновление ESP при добавлении новых игроков
Players.PlayerAdded:Connect(function(player)
    if espEnabled then
        ESP:CreateESP(player)
    end
end)

-- Обновление ESP при удалении игроков
Players.PlayerRemoving:Connect(function(player)
    ESP:DestroyESP(player)
end)

-- Обработка нажатия клавиши E
local UserInputService = game:GetService("UserInputService")
UserInputService.InputBegan:Connect(function(input, gameProcessedEvent)
    if not gameProcessedEvent then
        if input.KeyCode == Enum.KeyCode.E then
            toggleESP() -- Включаем или отключаем ESP при нажатии E
        end
    end
end)
